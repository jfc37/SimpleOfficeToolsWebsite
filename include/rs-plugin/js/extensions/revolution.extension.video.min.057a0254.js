!function(){"use strict";var e=jQuery.fn.revolution,t=e.is_mobile(),a=(e.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.8",version:"2.2.2"});function i(e){return null==e?-1:jQuery.isNumeric(e)?e:1<e.split(":").length?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}jQuery.extend(!0,e,{preLoadAudio:function(t,i){if("stop"===e.compare_version(a).check)return!1;t.find(".tp-audiolayer").each(function(){var t=jQuery(this),a={};0===t.find("audio").length&&(a.src=null!=t.data("videomp4")?t.data("videomp4"):"",a.pre=t.data("videopreload")||"",void 0===t.attr("id")&&t.attr("audio-layer-"+Math.round(199999*Math.random())),a.id=t.attr("id"),a.status="prepared",a.start=jQuery.now(),a.waittime=1e3*t.data("videopreloadwait")||5e3,"auto"!=a.pre&&"canplaythrough"!=a.pre&&"canplay"!=a.pre&&"progress"!=a.pre||(void 0===i.audioqueue&&(i.audioqueue=[]),i.audioqueue.push(a),e.manageVideoLayer(t,i)))})},preLoadAudioDone:function(e,t,a){t.audioqueue&&0<t.audioqueue.length&&jQuery.each(t.audioqueue,function(t,i){e.data("videomp4")!==i.src||i.pre!==a&&"auto"!==i.pre||(i.status="loaded")})},resetVideo:function(a,o,d,n){var r=a.data();switch(r.videotype){case"youtube":r.player;try{if("on"==r.forcerewind){var l=-1==(p=i(a.data("videostartat"))),s=1===r.bgvideo||0<a.find(".tp-videoposter").length;null!=r.player&&(p=-1==p?0:p,r.player.seekTo(p),r.player.pauseVideo())}}catch(a){}0==a.find(".tp-videoposter").length&&1!==r.bgvideo&&!0!==d&&punchgs.TweenLite.to(a.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var u=a.data("vimeoplayer");try{if("on"==r.forcerewind){var p=i(r.videostartat);l=-1==p,s=1===r.bgvideo||0<a.find(".tp-videoposter").length,(0!==(p=-1==p?0:p)&&!l||s)&&u.pause().then(function(){u.setCurrentTime(p)})}}catch(a){}0==a.find(".tp-videoposter").length&&1!==r.bgvideo&&!0!==d&&punchgs.TweenLite.to(a.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(t&&1==r.disablevideoonmobile)return!1;var v="html5"==r.audio?"audio":"video",c=a.find(v),m=c[0];if(punchgs.TweenLite.to(c,.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==r.forcerewind&&!a.hasClass("videoisplaying"))try{p=i(r.videostartat),m.currentTime=-1==p?0:p}catch(a){}("mute"==r.volume||e.lastToggleState(a.videomutetoggledby)||!0===o.globalmute)&&(m.muted=!0)}},isVideoMuted:function(e,t){var a=!1,i=e.data();switch(i.videotype){case"youtube":try{a=i.player.isMuted()}catch(e){}break;case"vimeo":try{"mute"==i.volume&&(a=!0)}catch(e){}break;case"html5":var o="html5"==i.audio?"audio":"video";e.find(o)[0].muted&&(a=!0)}return a},muteVideo:function(e,t){var a=e.data();switch(a.videotype){case"youtube":try{a.player.mute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","mute"),i.setVolume(0)}catch(e){}break;case"html5":var o="html5"==a.audio?"audio":"video";e.find(o)[0].muted=!0}},unMuteVideo:function(e,t){if(!0!==t.globalmute){var a=e.data();switch(a.videotype){case"youtube":try{a.player.unMute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","1"),i.setVolume(1)}catch(e){}break;case"html5":var o="html5"==a.audio?"audio":"video";e.find(o)[0].muted=!1}}},stopVideo:function(e,t){var a=e.data();switch(t.leaveViewPortBasedStop||(t.lastplayedvideos=[]),t.leaveViewPortBasedStop=!1,a.videotype){case"youtube":try{var i=a.player;if(2===i.getPlayerState()||5===i.getPlayerState())return;i.pauseVideo(),a.youtubepausecalled=!0,setTimeout(function(){a.youtubepausecalled=!1},80)}catch(e){console.log("Issue at YouTube Video Pause:"),console.log(e)}break;case"vimeo":try{e.data("vimeoplayer").pause(),a.vimeopausecalled=!0,setTimeout(function(){a.vimeopausecalled=!1},80)}catch(e){console.log("Issue at Vimeo Video Pause:"),console.log(e)}break;case"html5":var o="html5"==a.audio?"audio":"video",d=e.find(o),n=d[0];null!=d&&null!=n&&n.pause()}},playVideo:function(t,a){clearTimeout(t.data("videoplaywait"));var d=t.data();switch(d.videotype){case"youtube":if(0==t.find("iframe").length)t.append(t.data("videomarkup")),r(t,a,!0);else if(null!=d.player.playVideo){var n=i(t.data("videostartat")),l=d.player.getCurrentTime();1==t.data("nextslideatend-triggered")&&(l=-1,t.data("nextslideatend-triggered",0)),-1!=n&&l<n&&d.player.seekTo(n),!0!==d.youtubepausecalled&&d.player.playVideo()}else t.data("videoplaywait",setTimeout(function(){!0!==d.youtubepausecalled&&e.playVideo(t,a)},50));break;case"vimeo":if(0==t.find("iframe").length)t.removeData("vimeoplayer"),t.append(t.data("videomarkup")),r(t,a,!0);else if(t.hasClass("rs-apiready")){var s,u=t.find("iframe").attr("id");t.data("vimeoplayer")?s=t.data("vimeoplayer"):(s=new Vimeo.Player(u),t.data("vimeoplayer",s)),s.getPaused()?setTimeout(function(){var e=i(t.data("videostartat")),a=t.data("currenttime");a||(a=0),1==t.data("nextslideatend-triggered")&&(a=-1,t.data("nextslideatend-triggered",0)),-1!=e&&a<e&&s.setCurrentTime(e),s.play()},510):t.data("videoplaywait",setTimeout(function(){!0!==d.vimeopausecalled&&e.playVideo(t,a)},50))}else t.data("videoplaywait",setTimeout(function(){!0!==d.vimeopausecalled&&e.playVideo(t,a)},50));break;case"html5":var p="html5"==d.audio?"audio":"video",v=t.find(p),c=v[0];1!=v.parent().data("metaloaded")?o(c,"loadedmetadata",function(t){e.resetVideo(t,a),c.play();var o=i(t.data("videostartat")),d=c.currentTime;1==t.data("nextslideatend-triggered")&&(d=-1,t.data("nextslideatend-triggered",0)),-1!=o&&d<o&&(c.currentTime=o)}(t)):(c.play(),n=i(t.data("videostartat")),l=c.currentTime,1==t.data("nextslideatend-triggered")&&(l=-1,t.data("nextslideatend-triggered",0)),-1!=n&&l<n&&(c.currentTime=n))}},isVideoPlaying:function(e,t){var a=!1;return null!=t.playingvideos&&jQuery.each(t.playingvideos,function(t,i){e.attr("id")==i.attr("id")&&(a=!0)}),a},removeMediaFromList:function(e,t){v(e,t)},prepareCoveredVideo:function(t,a){if((!a.hasClass("tp-caption")||a.hasClass("coverscreenvideo"))&&(void 0===a.data("vimeoid")||void 0!==a.data("vimeoplayerloaded"))){var i={};i.ifr=a.find("iframe, video"),i.asp=a.data("aspectratio"),i.wa=i.asp.split(":")[0],i.ha=i.asp.split(":")[1],i.vd=i.wa/i.ha;var o="carousel"!==t.sliderType?t.conw:a.closest(".tp-revslider-slidesli").width();if(0===o||0===t.conh)return e.setSize(t),clearTimeout(i.ifr.data("resizelistener")),void i.ifr.data("resizelistener",setTimeout(function(){e.prepareCoveredVideo(t,a)},100));var d=o/t.conh,n=d/i.vd*100,r=i.vd/d*100;d>i.vd?punchgs.TweenLite.set(i.ifr,{height:n+"%",width:"100%",top:-(n-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.set(i.ifr,{width:r+"%",height:"100%",left:-(r-100)/2+"%",top:"0px",position:"absolute"}),i.ifr.hasClass("resizelistener")||(i.ifr.addClass("resizelistener"),jQuery(window).resize(function(){e.prepareCoveredVideo(t,a),clearTimeout(i.ifr.data("resizelistener")),i.ifr.data("resizelistener",setTimeout(function(){e.prepareCoveredVideo(t,a)},90))}))}},checkVideoApis:function(e,t,a){if(location.protocol,(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&(t.youtubeapineeded=!0),(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&0==a.addedyt){t.youtubestarttime=jQuery.now(),a.addedyt=1;var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0],d=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(d=!1)}),d&&o.parentNode.insertBefore(i,o)}if((null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&(t.vimeoapineeded=!0),(null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&0==a.addedvim){t.vimeostarttime=jQuery.now(),a.addedvim=1;var n=document.createElement("script");o=document.getElementsByTagName("script")[0],d=!0,n.src="https://player.vimeo.com/api/player.js",jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(d=!1)}),d&&o.parentNode.insertBefore(n,o)}return a},manageVideoLayer:function(d,n,l,s){if("stop"===e.compare_version(a).check)return!1;var p=d.data(),v=p.videoattributes,c=p.ytid,m=p.vimeoid,g="auto"===p.videopreload||"canplay"===p.videopreload||"canplaythrough"===p.videopreload||"progress"===p.videopreload?"auto":p.videopreload,y=p.videomp4,f=p.videowebm,h=p.videoogv,b=p.allowfullscreenvideo,w=p.videocontrols,T="http",k="loop"==p.videoloop||"loopandnoslidestop"==p.videoloop?"loop":"",x=null!=y||null!=f?"html5":null!=c&&1<String(c).length?"youtube":null!=m&&1<String(m).length?"vimeo":"none",V="html5"==p.audio?"audio":"video",L="html5"==x&&0==d.find(V).length?"html5":"youtube"==x&&0==d.find("iframe").length?"youtube":"vimeo"==x&&0==d.find("iframe").length?"vimeo":"none";switch(k=!0===p.nextslideatend?"":k,p.videotype=x,L){case"html5":"controls"!=w&&(w=""),V="video","html5"==p.audio&&(V="audio",d.addClass("tp-audio-html5"));var C="";"video"===V&&(e.is_mobile()||e.isSafari11())&&("on"===p.autoplay||"true"===p.autoplay||!0===p.autoplay?C="muted playsinline autoplay":1!=p.videoinline&&"true"!==p.videoinline&&1!==p.videoinline||(C+=" playsinline"));var P="<"+V+" "+C+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+k+' preload="'+g+'">';"auto"==g&&(n.mediapreload=!0),"video"===V?(null!=f&&"firefox"==e.get_browser().toLowerCase()&&(P=P+'<source src="'+f+'" type="video/webm" />'),null!=y&&(P=P+'<source src="'+y+'" type="video/mp4" />'),null!=h&&(P=P+'<source src="'+h+'" type="video/ogg" />')):"audio"===V&&(null!=y&&(P=P+'<source src="'+y+'" type="audio/mpeg" />'),null!=h&&(P=P+'<source src="'+h+'" type="audio/ogg" />')),P=P+"</"+V+">";var I="";"true"!==b&&!0!==b||(I='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==w&&(P=P+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+I+"</div>"),d.data("videomarkup",P),d.append(P),(t&&1==d.data("disablevideoonmobile")||e.isIE(8))&&d.find(V).remove(),d.find(V).each(function(t){var a,i=jQuery(this);i.parent().hasClass("html5vid")||i.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=i.parent().data("metaloaded")&&o(this,"loadedmetadata",(u(a=d,n),void e.resetVideo(a,n)))});break;case"youtube":T="https","none"==w&&-1==(v=v.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(v+="&controls=0"),(!0===p.videoinline||"true"===p.videoinline||1===p.videoinline||d.hasClass("rs-background-video-layer")||"on"===d.data("autoplay"))&&(v+="&playsinline=1");var _=i(d.data("videostartat")),S=i(d.data("videoendat"));-1!=_&&(v=v+"&start="+_),-1!=S&&(v=v+"&end="+S);var j=v.split("origin="+T+"://"),A="";1<j.length?(A=j[0]+"origin="+T+"://",self.location.href.match(/www/gi)&&!j[1].match(/www/gi)&&(A+="www."),A+=j[1]):A=v;var O="true"===b||!0===b?"allowfullscreen":"";d.data("videomarkup",'<iframe type="text/html" src="'+T+"://www.youtube-nocookie.com/embed/"+c+"?"+A+'" '+O+' width="100%" height="100%" style="opacity:0;width:100%;height:100%"></iframe>');break;case"vimeo":T="https",d.data("videomarkup",'<iframe src="'+T+"://player.vimeo.com/video/"+m+"?"+v+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>')}var Q=t&&"on"==d.data("noposteronmobile");if(null!=p.videoposter&&2<p.videoposter.length&&!Q)0==d.find(".tp-videoposter").length&&d.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+p.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==d.find("iframe").length&&d.find(".tp-videoposter").click(function(){if(e.playVideo(d,n),t){if(1==d.data("disablevideoonmobile"))return!1;punchgs.TweenLite.to(d.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(d.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}});else{if(t&&1==d.data("disablevideoonmobile"))return!1;0!=d.find("iframe").length||"youtube"!=x&&"vimeo"!=x||(d.removeData("vimeoplayer"),d.append(d.data("videomarkup")),r(d,n,!1))}"none"!=d.data("dottedoverlay")&&null!=d.data("dottedoverlay")&&1!=d.find(".tp-dottedoverlay").length&&d.append('<div class="tp-dottedoverlay '+d.data("dottedoverlay")+'"></div>'),d.addClass("HasListener"),1==d.data("bgvideo")&&(d.data("ytid")?punchgs.TweenLite.set(d.find("iframe"),{opacity:0}):punchgs.TweenLite.set(d.find("video, iframe"),{autoAlpha:0}))}});var o=function(e,t,a){e.addEventListener?e.addEventListener(t,a,{capture:!1,passive:!0}):e.attachEvent(t,a,{capture:!1,passive:!0})},d=function(e,t,a){var i={};return i.video=e,i.videotype=t,i.settings=a,i},n=function(t,a){if(1==a.data("bgvideo")||1==a.data("forcecover")){1===a.data("forcecover")&&a.removeClass("fullscreenvideo").addClass("coverscreenvideo");var i=a.data("aspectratio");void 0===i&&i.split(":").length<=1&&a.data("aspectratio","16:9"),e.prepareCoveredVideo(t,a)}},r=function(a,o,r){var u=a.data(),c=a.find("iframe"),m="iframe"+Math.round(1e5*Math.random()+1),g=u.videoloop,y="loopandnoslidestop"!=g;if(g="loop"==g||"loopandnoslidestop"==g,n(o,a),c.attr("id",m),r&&a.data("startvideonow",!0),1!==a.data("videolistenerexist"))switch(u.videotype){case"youtube":var f=new YT.Player(m,{events:{onStateChange:function(t){var n=a.closest(".tp-simpleresponsive"),r=(u.videorate,a.data("videostart"),s());if(t.data==YT.PlayerState.PLAYING)punchgs.TweenLite.to(a.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(a.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==a.data("volume")||e.lastToggleState(a.data("videomutetoggledby"))||!0===o.globalmute?f.mute():(f.unMute(),f.setVolume(parseInt(a.data("volume"),0)||75)),o.videoplaying=!0,p(a,o),y?o.c.trigger("stoptimer"):o.videoplaying=!1,o.c.trigger("revolution.slide.onvideoplay",d(f,"youtube",a.data())),e.toggleState(u.videotoggledby);else{if(0==t.data&&g){var c=i(a.data("videostartat"));-1!=c&&f.seekTo(c),f.playVideo(),e.toggleState(u.videotoggledby)}r||0!=t.data&&2!=t.data||!("on"==a.data("showcoveronpause")&&0<a.find(".tp-videoposter").length||1===a.data("bgvideo")&&0<a.find(".rs-fullvideo-cover").length)||(1===a.data("bgvideo")?punchgs.TweenLite.to(a.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(a.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(a.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=t.data&&3!=t.data&&(o.videoplaying=!1,o.tonpause=!1,v(a,o),n.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(f,"youtube",a.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=a.attr("id")||e.unToggleState(u.videotoggledby)),0==t.data&&1==a.data("nextslideatend")?(l(),a.data("nextslideatend-triggered",1),o.c.revnext(),v(a,o)):(v(a,o),o.videoplaying=!1,n.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(f,"youtube",a.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=a.attr("id")||e.unToggleState(u.videotoggledby))}},onReady:function(o){var d,n=e.is_mobile(),r=a.hasClass("tp-videolayer");if(n||e.isSafari11()){var l=r&&"off"!==a.data("autoplay");(a.hasClass("rs-background-video-layer")||l)&&(n&&r||(d=!0,f.setVolume(0),a.data("volume","mute"),f.mute(),clearTimeout(a.data("mobilevideotimr")),a.data("mobilevideotimr",setTimeout(function(){f.playVideo()},500))))}d||"mute"!=a.data("volume")||(f.setVolume(0),f.mute());var s=u.videorate;if(a.data("videostart"),a.addClass("rs-apiready"),null!=s&&o.target.setPlaybackRate(parseFloat(s)),a.find(".tp-videoposter").unbind("click"),a.find(".tp-videoposter").click(function(){t||f.playVideo()}),a.data("startvideonow")){u.player.playVideo();var p=i(a.data("videostartat"));-1!=p&&u.player.seekTo(p)}a.data("videolistenerexist",1)}}});a.data("player",f);break;case"vimeo":for(var h,b=c.attr("src"),w={},T=b,k=/([^&=]+)=([^&]*)/g;h=k.exec(T);)w[decodeURIComponent(h[1])]=decodeURIComponent(h[2]);b=(b=null!=w.player_id?b.replace(w.player_id,m):b+"&player_id="+m).replace(/&api=0|&api=1/g,"");var x=e.is_mobile(),V=a.data("autoplay"),L=(a.data("volume"),x||e.isSafari11());a.hasClass("rs-background-video-layer"),(V="on"===V||"true"===V||!0===V)&&L&&(b+="?autoplay=1&autopause=0&muted=1&background=1&playsinline=1",a.data({vimeoplaysinline:!0,volume:"mute"})),c.attr("src",b),f=a.find("iframe")[0],jQuery("#"+m),a.data("vimeoplayer")?P=a.data("vimeoplayer"):(P=new Vimeo.Player(m),a.data("vimeoplayer",P)),P.on("loaded",function(e){var t={};P.getVideoWidth().then(function(e){t.width=e,void 0!==t.width&&void 0!==t.height&&(a.data("aspectratio",t.width+":"+t.height),a.data("vimeoplayerloaded",!0),n(o,a))}),P.getVideoHeight().then(function(e){t.height=e,void 0!==t.width&&void 0!==t.height&&(a.data("aspectratio",t.width+":"+t.height),a.data("vimeoplayerloaded",!0),n(o,a))})}),a.addClass("rs-apiready"),P.on("play",function(t){a.data("nextslidecalled",0),punchgs.TweenLite.to(a.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(a.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),o.c.trigger("revolution.slide.onvideoplay",d(P,"vimeo",a.data())),o.videoplaying=!0,p(a,o),y?o.c.trigger("stoptimer"):o.videoplaying=!1,a.data("vimeoplaysinline")||("mute"==a.data("volume")||e.lastToggleState(a.data("videomutetoggledby"))||!0===o.globalmute?P.setVolume(0):P.setVolume(parseInt(a.data("volume"),0)/100||.75),e.toggleState(u.videotoggledby))}),P.on("timeupdate",function(e){var t=i(a.data("videoendat"));if(a.data("currenttime",e.seconds),0!=t&&Math.abs(t-e.seconds)<1&&t>e.seconds&&1!=a.data("nextslidecalled"))if(g){P.play();var d=i(a.data("videostartat"));-1!=d&&P.setCurrentTime(d)}else 1==a.data("nextslideatend")&&(a.data("nextslideatend-triggered",1),a.data("nextslidecalled",1),o.c.revnext()),P.pause()}),P.on("ended",function(t){v(a,o),o.videoplaying=!1,o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(P,"vimeo",a.data())),1==a.data("nextslideatend")&&(a.data("nextslideatend-triggered",1),o.c.revnext()),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=a.attr("id")||e.unToggleState(u.videotoggledby)}),P.on("pause",function(t){("on"==a.data("showcoveronpause")&&0<a.find(".tp-videoposter").length||1===a.data("bgvideo")&&0<a.find(".rs-fullvideo-cover").length)&&(1===a.data("bgvideo")?punchgs.TweenLite.to(a.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(a.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(a.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),o.videoplaying=!1,o.tonpause=!1,v(a,o),o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(P,"vimeo",a.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=a.attr("id")||e.unToggleState(u.videotoggledby)}),a.find(".tp-videoposter").unbind("click"),a.find(".tp-videoposter").click(function(){if(!t)return P.play(),!1}),a.data("startvideonow")&&(P.play(),-1!=(C=i(a.data("videostartat")))&&P.setCurrentTime(C)),a.data("videolistenerexist",1)}else{var C=i(a.data("videostartat"));switch(u.videotype){case"youtube":r&&(u.player.playVideo(),-1!=C&&u.player.seekTo());break;case"vimeo":var P;r&&((P=a.data("vimeoplayer")).play(),-1!=C&&P.seekTo(C))}}},l=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},s=function(){try{if(void 0!==window.fullScreen)return window.fullScreen;var e=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(e=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<e}catch(e){}},u=function(a,n,r){if(t&&1==a.data("disablevideoonmobile"))return!1;var u=a.data(),c="html5"==u.audio?"audio":"video",m=a.find(c),g=m[0],y=m.parent(),f=u.videoloop,h="loopandnoslidestop"!=f;if(f="loop"==f||"loopandnoslidestop"==f,y.data("metaloaded",1),1!=a.data("bgvideo")||"none"!==u.videoloop&&!1!==u.videoloop||(h=!1),null==m.attr("control")&&(0!=a.find(".tp-video-play-button").length||t||a.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),a.find("video, .tp-poster, .tp-video-play-button").click(function(){a.hasClass("videoisplaying")?g.pause():g.play()})),1==a.data("forcecover")||a.hasClass("fullscreenvideo")||1==a.data("bgvideo"))if(1==a.data("forcecover")||1==a.data("bgvideo")){y.addClass("fullcoveredvideo");var b=a.data("aspectratio");void 0!==b&&1!=b.split(":").length||a.data("aspectratio","16:9"),e.prepareCoveredVideo(n,a)}else y.addClass("fullscreenvideo");var w=a.find(".tp-vid-play-pause")[0],T=a.find(".tp-vid-mute")[0],k=a.find(".tp-vid-full-screen")[0],x=a.find(".tp-seek-bar")[0],V=a.find(".tp-volume-bar")[0];null!=w&&o(w,"click",function(){1==g.paused?g.play():g.pause()}),null!=T&&o(T,"click",function(){0==g.muted?(g.muted=!0,T.innerHTML="Unmute"):(g.muted=!1,T.innerHTML="Mute")}),null!=k&&k&&o(k,"click",function(){g.requestFullscreen?g.requestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.webkitRequestFullscreen&&g.webkitRequestFullscreen()}),null!=x&&(o(x,"change",function(){var e=g.duration*(x.value/100);g.currentTime=e}),o(x,"mousedown",function(){a.addClass("seekbardragged"),g.pause()}),o(x,"mouseup",function(){a.removeClass("seekbardragged"),g.play()})),o(g,"canplaythrough",function(){e.preLoadAudioDone(a,n,"canplaythrough")}),o(g,"canplay",function(){e.preLoadAudioDone(a,n,"canplay")}),o(g,"progress",function(){e.preLoadAudioDone(a,n,"progress")}),o(g,"timeupdate",function(){var e=100/g.duration*g.currentTime,t=i(a.data("videoendat")),o=g.currentTime;if(null!=x&&(x.value=e),0!=t&&-1!=t&&Math.abs(t-o)<=.3&&o<t&&1!=a.data("nextslidecalled"))if(f){g.play();var d=i(a.data("videostartat"));-1!=d&&(g.currentTime=d)}else 1==a.data("nextslideatend")&&(a.data("nextslideatend-triggered",1),a.data("nextslidecalled",1),n.just_called_nextslide_at_htmltimer=!0,n.c.revnext(),setTimeout(function(){n.just_called_nextslide_at_htmltimer=!1},1e3)),g.pause()}),null!=V&&o(V,"change",function(){g.volume=V.value}),o(g,"play",function(){a.data("nextslidecalled",0);var t=a.data("volume");t=null!=t&&"mute"!=t?parseFloat(t)/100:t,e.is_mobile()||e.isSafari11()||(!0===n.globalmute?g.muted=!0:g.muted=!1,1<t&&(t/=100),"mute"==t?g.muted=!0:null!=t&&(g.volume=t)),a.addClass("videoisplaying");var i="html5"==u.audio?"audio":"video";p(a,n),h&&"audio"!=i?(n.videoplaying=!0,n.c.trigger("stoptimer"),n.c.trigger("revolution.slide.onvideoplay",d(g,"html5",u))):(n.videoplaying=!1,"audio"!=i&&n.c.trigger("starttimer"),n.c.trigger("revolution.slide.onvideostop",d(g,"html5",u))),punchgs.TweenLite.to(a.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(a.find(i),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var o=a.find(".tp-vid-play-pause")[0],r=a.find(".tp-vid-mute")[0];null!=o&&(o.innerHTML="Pause"),null!=r&&g.muted&&(r.innerHTML="Unmute"),e.toggleState(u.videotoggledby)}),o(g,"pause",function(t){var i="html5"==u.audio?"audio":"video";!s()&&0<a.find(".tp-videoposter").length&&"on"==a.data("showcoveronpause")&&!a.hasClass("seekbardragged")&&(punchgs.TweenLite.to(a.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(a.find(i),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),a.removeClass("videoisplaying"),n.videoplaying=!1,v(a,n),"audio"!=i&&n.c.trigger("starttimer"),n.c.trigger("revolution.slide.onvideostop",d(g,"html5",a.data()));var o=a.find(".tp-vid-play-pause")[0];null!=o&&(o.innerHTML="Play"),null!=n.currentLayerVideoIsPlaying&&n.currentLayerVideoIsPlaying.attr("id")!=a.attr("id")||e.unToggleState(u.videotoggledby)}),o(g,"ended",function(){l(),v(a,n),n.videoplaying=!1,v(a,n),"audio"!=c&&n.c.trigger("starttimer"),n.c.trigger("revolution.slide.onvideostop",d(g,"html5",a.data())),!0===a.data("nextslideatend")&&0<g.currentTime&&(1==!n.just_called_nextslide_at_htmltimer&&(a.data("nextslideatend-triggered",1),n.c.revnext(),n.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){n.just_called_nextslide_at_htmltimer=!1},1500)),a.removeClass("videoisplaying")})},p=function(t,a){null==a.playingvideos&&(a.playingvideos=new Array),t.data("stopallvideos")&&null!=a.playingvideos&&0<a.playingvideos.length&&(a.lastplayedvideos=jQuery.extend(!0,[],a.playingvideos),jQuery.each(a.playingvideos,function(t,i){e.stopVideo(i,a)})),a.playingvideos.push(t),a.currentLayerVideoIsPlaying=t},v=function(e,t){null!=t.playingvideos&&0<=jQuery.inArray(e,t.playingvideos)&&t.playingvideos.splice(jQuery.inArray(e,t.playingvideos),1)}}(jQuery);